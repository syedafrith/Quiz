<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Quiz</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
</head>
<body>
<div class="col-lg-8 border border-primary p-4 m-4 mx-auto">
<form action="/checkanswer" method="post">{% csrf_token %}
    <span class="current">
        <h5>Question {{ questions.number }} of {{ questions.paginator.num_pages }}.</h5>
    </span>
{% for x in questions %}
    <h4>{{x.question}}</h4><br>
    <form action="checkanswer/" method="post">{% csrf_token %}
        <input type="hidden" value="{{x.id }}" name="id">
    <div class="custom-control custom-radio">
        <input class="custom-control-input" name="choices" type="radio" id="option1"  value="{{x.option1}}" >
        <label class="custom-control-label" for="option1">{{x.option1}}</label><br>
    </div>
    <div class="custom-control custom-radio">
        <input class="custom-control-input" name="choices" type="radio" id="option2" value="{{x.option2}}" >
        <label class="custom-control-label" for="option2">{{x.option2}}</label><br>
    </div>
    <div class="custom-control custom-radio">
        <input class="custom-control-input" name="choices" type="radio" id="option3" value="{{x.option3}}">
        <label class="custom-control-label" for="option3">{{x.option3}}</label><br>
    </div>
    <div class="custom-control custom-radio">
        <input class="custom-control-input" name="choices" type="radio" id="option4" value="{{x.option4}}">
        <label class="custom-control-label"  for="option4">{{x.option4}}</label><br>
    </div><br>
    {% if status == 'answered' %}
        <button type="submit" class="btn btn-success btn-lg" disabled>Answer Submitted</button><br><br>
        {% else %}
        <button type="submit" class="btn btn-success btn-lg">Submit</button><br><br>
    {% endif %}
    </form>

    </form>
<div class="pagination">
    <span class="step-links">
        {% if questions.has_previous %}

           <a href="?page={{ questions.previous_page_number }}" class=" btn btn-primary btn-lg">previous Question</a>
        {% endif %}


        {% if questions.has_next %}
          {% if status == 'answered' %}
             <a href="?page={{ questions.next_page_number }}"  class="btn btn-primary btn-lg ">next question</a>
          {% endif %}
        {% else %}
            <a href="/total_score" class="btn btn-primary btn-lg ">Final score</a>
        {% endif %}
    </span>
</div><br>
    {% if result %}
    <div class="alert alert-danger" role="alert">
    <h6>The answer is {{x.answer}}</h6>
    </div>
    {% endif %}
{% endfor  %}
    {% if messages %}
    <ul class="messages">
        {% for message in messages %}
        {% if message.extra_tags %}
        <div class="alert alert-warning" role="alert">
            <h5><img src="https://img.icons8.com/emoji/36/000000/thumbs-down-emoji.png"/>{{ message }}</h5>
        </div>
        <div class="alert alert-success" role="alert">
            <h6>The Answer is {{message.extra_tags}}</h6>
        </div>
        {% else %}
        <div class="alert alert-success" role="alert">
            <h5><img src="https://img.icons8.com/emoji/36/000000/thumbs-up.png"/>{{ message }}</h5>
        </div>
        {% endif %}
        {% endfor %}
    </ul>
{% endif %}
</div>
</body>
</html>